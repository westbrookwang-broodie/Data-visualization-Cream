{"version":3,"file":"svg-sprite.js","sources":["../../src/svg-sprite/svg-sprite.tsx"],"sourcesContent":["import {\n  computed, defineComponent, h, onMounted,\n} from 'vue';\n\nimport ConfigContext from '../utils/config-context';\nimport useSizeProps from '../utils/use-size-props';\nimport { checkScriptAndLoad } from '../utils/check-url-and-load';\n\nimport props from './props/props';\n\nimport '../style/css';\n\nconst { classPrefix } = ConfigContext;\n\nconst CDN_ICONFONT_URL = 'https://tdesign.gtimg.com/icon/0.1.3/fonts/index.js';\n\nexport default defineComponent({\n  name: 'Icon',\n  props,\n  setup(props, { attrs }) {\n    const propsSize = computed(() => props.size);\n    const name = computed(() => props.name || '');\n\n    const { className: sizeClassName, style: sizeStyle } = useSizeProps(propsSize);\n\n    const finalUrl = computed(() => {\n      let url = [];\n      url = props.url instanceof Array ? props.url.concat() : [props.url];\n      if (props.loadDefaultIcons) url.push(CDN_ICONFONT_URL);\n      return url;\n    });\n\n    const classNames = computed(() => [\n      `${classPrefix}-icon`,\n      `${classPrefix}-icon-${name.value}`,\n      sizeClassName.value,\n\n    ]);\n\n    const finalStyle = computed(() => ({ ...sizeStyle.value, ...(attrs.style as Styles) }));\n\n    onMounted(() => {\n      Array.from(new Set(finalUrl.value as string[])).forEach((url: string) => {\n        checkScriptAndLoad(url, `${classPrefix}-svg-js-stylesheet--unique-class`);\n      });\n    });\n\n    const finalProps = computed(() => ({\n      class: classNames.value,\n      style: finalStyle.value,\n      onClick: (e:MouseEvent) => props.onClick?.({ e }),\n    }));\n\n    return () => h('svg', finalProps.value, h('use', { href: props.url ? `#${name.value}` : `#t-icon-${name.value}` }));\n  },\n\n});\n"],"names":["classPrefix","ConfigContext","CDN_ICONFONT_URL","defineComponent","name","props","setup","attrs","_ref","propsSize","computed","size","className","sizeClassName","style","sizeStyle","useSizeProps","finalUrl","url","Array","concat","loadDefaultIcons","push","classNames","value","finalStyle","_objectSpread","onMounted","from","Set","forEach","checkScriptAndLoad","finalProps","class","onClick","e","_props2$onClick","h","href"],"mappings":";;;;;;;;;;;;;;AAYA,IAAM;AAAEA,EAAAA,WAAAA;AAAY,CAAI,GAAAC,8BAAA,CAAA;AAExB,IAAMC,gBAAmB,GAAA,qDAAA,CAAA;AAEzB,YAAeC,mBAAgB,CAAA;AAC7BC,EAAAA,IAAM,EAAA,MAAA;SACNC,gCAAA;AACAC,EAAAA,KAAMD,CAAAA,MAAAA,EAAAA,IAAAA,EAAkB;IAAA,IAAX;AAAEE,MAAAA,KAAAA;AAAM,KAAG,GAAAC,IAAA,CAAA;IACtB,IAAMC,SAAY,GAAAC,YAAA,CAAS,MAAML,MAAAA,CAAMM,IAAI,CAAA,CAAA;IAC3C,IAAMP,IAAO,GAAAM,YAAA,CAAS,MAAML,MAAAA,CAAMD,QAAQ,EAAE,CAAA,CAAA;IAE5C,IAAM;AAAEQ,MAAAA,SAAW,EAAAC,aAAA;AAAeC,MAAAA,OAAOC,SAAAA;AAAU,KAAA,GAAIC,8BAAaP,SAAS,CAAA,CAAA;AAEvE,IAAA,IAAAQ,QAAA,GAAWP,aAAS,MAAM;MAC9B,IAAIQ,MAAM,EAAC,CAAA;AACLb,MAAAA,GAAAA,GAAAA,MAAAA,CAAMa,eAAeC,KAAQd,GAAAA,MAAAA,CAAMa,IAAIE,MAAO,EAAA,GAAI,CAACf,MAAAA,CAAMa,GAAG,CAAA,CAAA;MAClE,IAAIb,MAAM,CAAAgB,gBAAA,EAAkBH,GAAA,CAAII,KAAKpB,gBAAgB,CAAA,CAAA;AAC9C,MAAA,OAAAgB,GAAA,CAAA;AACT,KAAC,CAAA,CAAA;IAEK,IAAAK,UAAA,GAAab,aAAS,MAAM,IAAAU,MAAA,CAC7BpB,WAAA,EAAA,OAAA,CAAA,EAAA,EAAA,CAAAoB,MAAA,CACApB,8BAAoBI,IAAK,CAAAoB,KAAA,GAC5BX,aAAc,CAAAW,KAAA,CAEf,CAAA,CAAA;AAEK,IAAA,IAAAC,UAAA,GAAaf,YAAS,CAAA,MAAAgB,aAAA,CAAAA,aAAA,CAAYX,EAAAA,EAAAA,UAAUS,KAAO,CAAA,EAAIjB,KAAM,CAAAO,KAAA,CAAmB,CAAA,CAAA;AAEtFa,IAAAA,aAAA,CAAU,MAAM;AACRR,MAAAA,KAAA,CAAAS,IAAA,CAAK,IAAIC,GAAI,CAAAZ,QAAA,CAASO,KAAiB,CAAC,CAAA,CAAEM,OAAQ,CAACZ,GAAgB,IAAA;AACpDa,QAAAA,wCAAA,CAAAb,GAAA,EAAA,EAAA,CAAAE,MAAA,CAAQpB,WAA6C,EAAA,kCAAA,CAAA,CAAA,CAAA;AAC1E,OAAC,CAAA,CAAA;AACH,KAAC,CAAA,CAAA;AAEK,IAAA,IAAAgC,UAAA,GAAatB,aAAS,OAAO;MACjCuB,OAAOV,UAAW,CAAAC,KAAA;MAClBV,OAAOW,UAAW,CAAAD,KAAA;AAClBU,MAAAA,SAAUC,CAAA,IAAA;AAAA,QAAA,IAAAC,eAAA,CAAA;AAAA,QAAA,OAAA,CAAAA,eAAA,GAAiB/B,OAAM6B,OAAU,MAAA,IAAA,IAAAE,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAhB/B,eAAAA,CAAAA,IAAAA,CAAAA,QAAgB;AAAE8B,UAAAA,CAAAA;AAAE,SAAC,CAAA,CAAA;AAAA,OAAA;AAClD,KAAE,CAAA,CAAA,CAAA;AAEF,IAAA,OAAO,MAAME,KAAE,CAAA,KAAA,EAAOL,WAAWR,KAAO,EAAAa,KAAA,CAAE,OAAO;AAAEC,MAAAA,IAAA,EAAMjC,MAAM,CAAAa,GAAA,OAAAE,MAAA,CAAUhB,IAAK,CAAAoB,KAAA,CAAAJ,GAAAA,UAAAA,CAAAA,MAAA,CAAqBhB,IAAK,CAAAoB,KAAA,CAAA;AAAQ,KAAC,CAAC,CAAA,CAAA;AACpH,GAAA;AAEF,CAAC,CAAA;;;;"}