{"version":3,"file":"ImageViewerUtils.js","sources":["../../../src/image-viewer/base/ImageViewerUtils.tsx"],"sourcesContent":["import { defineComponent, PropType } from 'vue';\nimport { ImageIcon, ZoomInIcon, ZoomOutIcon, DownloadIcon, MirrorIcon, RotationIcon } from 'tdesign-icons-vue-next';\n\nimport TImageViewerIcon from './ImageModalIcon';\nimport TToolTip from '../../tooltip';\nimport { usePrefixClass } from '../../hooks/useConfig';\nimport { downloadFile } from '../utils';\n\nimport { ImageInfo } from '../type';\n\nexport default defineComponent({\n  name: 'TImageViewerUtils',\n  props: {\n    scale: Number,\n    onRotate: Function as PropType<() => void>,\n    onZoomIn: Function as PropType<() => void>,\n    onZoomOut: Function as PropType<() => void>,\n    onMirror: Function as PropType<() => void>,\n    onReset: Function as PropType<() => void>,\n    currentImage: {\n      type: Object as PropType<ImageInfo>,\n      default() {\n        return {};\n      },\n    },\n  },\n  setup(props) {\n    const classPrefix = usePrefixClass();\n\n    return () => (\n      <div class={`${classPrefix.value}-image-viewer__utils`}>\n        <div class={`${classPrefix.value}-image-viewer__utils-content`}>\n          <TToolTip\n            overlayClassName={`${classPrefix.value}-image-viewer__utils--tip`}\n            content=\"镜像\"\n            destroyOnClose\n            placement=\"top\"\n            showArrow\n            theme=\"default\"\n          >\n            <TImageViewerIcon onClick={props.onMirror} icon={() => <MirrorIcon size=\"medium\" />} />\n          </TToolTip>\n          <TToolTip\n            overlayClassName={`${classPrefix.value}-image-viewer__utils--tip`}\n            content=\"旋转\"\n            destroyOnClose\n            placement=\"top\"\n            showArrow\n            theme=\"default\"\n          >\n            <TImageViewerIcon onClick={props.onRotate} icon={() => <RotationIcon size=\"medium\" />} />\n          </TToolTip>\n          <TImageViewerIcon icon={() => <ZoomOutIcon size=\"medium\" />} onClick={props.onZoomOut} />\n          <TImageViewerIcon\n            class={`${classPrefix.value}-image-viewer__utils-scale`}\n            size=\"medium\"\n            label={`${props.scale * 100}%`}\n          />\n          <TImageViewerIcon icon={() => <ZoomInIcon size=\"medium\" />} onClick={props.onZoomIn} />\n          <TToolTip\n            overlayClassName={`${classPrefix.value}-image-viewer__utils--tip`}\n            content=\"原始大小\"\n            destroyOnClose\n            placement=\"top\"\n            showArrow\n            theme=\"default\"\n          >\n            <div class={`${classPrefix.value}-image-viewer__modal-icon`}>\n              <TImageViewerIcon icon={() => <ImageIcon size=\"medium\" />} onClick={props.onReset} />\n            </div>\n          </TToolTip>\n          {props.currentImage.download && (\n            <TImageViewerIcon\n              icon={() => <DownloadIcon size=\"medium\" />}\n              onClick={() => {\n                downloadFile(props.currentImage.mainImage);\n              }}\n            />\n          )}\n        </div>\n      </div>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","scale","Number","onRotate","Function","onZoomIn","onZoomOut","onMirror","onReset","currentImage","type","Object","_default","setup","classPrefix","usePrefixClass","_createVNode","concat","value","TToolTip","TImageViewerIcon","icon","MirrorIcon","RotationIcon","ZoomOutIcon","ZoomInIcon","ImageIcon","download","DownloadIcon","onClick","downloadFile","mainImage"],"mappings":"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"}