{"version":3,"file":"slider-button.js","sources":["../../src/slider/slider-button.tsx"],"sourcesContent":["import {\n  PropType,\n  defineComponent,\n  ComponentPublicInstance,\n  ref,\n  computed,\n  reactive,\n  nextTick,\n  watchEffect,\n  inject,\n} from 'vue';\nimport TTooltip from '../tooltip/index';\nimport { TdSliderProps } from './type';\n\nimport { usePrefixClass } from '../hooks/useConfig';\nimport { useSliderTooltip } from './hooks/useSliderTooltip';\nimport { sliderPropsInjectKey } from './util/constants';\nimport isFunction from 'lodash/isFunction';\n\nexport default defineComponent({\n  name: 'TSliderButton',\n  props: {\n    value: {\n      type: [Number],\n      default: 0,\n    },\n    vertical: {\n      type: Boolean,\n      default: false,\n    },\n    tooltipProps: {\n      type: [Boolean, Object],\n      default: true,\n    },\n    label: {\n      type: [String, Boolean, Function] as PropType<TdSliderProps['label']>,\n      default: false,\n    },\n  },\n  emits: ['input'],\n  setup(props, ctx) {\n    const COMPONENT_NAME = usePrefixClass('slider__button');\n    const tooltipConfig = computed(() => props);\n    const { tooltipRef, tooltipProps, toggleTooltip, showTooltip } = useSliderTooltip(tooltipConfig);\n    const parentProps = inject(sliderPropsInjectKey);\n    const buttonRef = ref();\n\n    /** --------------------- slide button 相关状态start ------------------- */\n    const slideButtonProps = reactive({\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      startY: 0,\n      startPos: 0,\n      newPos: null,\n    });\n\n    const rangeDiff = computed(() => {\n      return Number(parentProps.max) - Number(parentProps.min);\n    });\n\n    const currentPos = computed(() => {\n      return `${((props.value - parentProps.min) / rangeDiff.value) * 100}%`;\n    });\n\n    const step = computed(() => {\n      return parentProps.step;\n    });\n\n    const wrapperStyle = computed(() => {\n      return props.vertical ? { bottom: currentPos.value } : { left: currentPos.value };\n    });\n\n    watchEffect(() => {\n      parentProps.toggleDragging(slideButtonProps.dragging);\n    });\n    /** --------------------- slide button 相关状态end ------------------- */\n\n    /** --------------------- slide button 相关事件start ------------------- */\n    /** 设置当前位置 */\n    const setPosition = (pos: number) => {\n      let newPos = pos;\n      if (newPos === null || Number.isNaN(newPos)) {\n        return;\n      }\n\n      if (newPos > 100) {\n        newPos = 100;\n      } else if (newPos < 0) {\n        newPos = 0;\n      }\n      const perStepLen = (100 * step.value) / rangeDiff.value;\n      const steps = Math.round(newPos / perStepLen);\n      let value = steps * perStepLen * rangeDiff.value * 0.01;\n      value += parentProps.min;\n      value = Number(parseFloat(`${value}`).toFixed(parentProps.precision));\n      ctx.emit('input', value);\n      nextTick(() => {\n        tooltipRef.value && tooltipRef.value.updatePopper?.();\n      });\n    };\n\n    const handleMouseEnter = () => {\n      (buttonRef.value as ComponentPublicInstance).focus();\n      toggleTooltip(true);\n    };\n    const handleMouseLeave = () => {\n      if (!slideButtonProps.dragging) {\n        toggleTooltip(false);\n      }\n    };\n\n    const onDragStart = (event: MouseEvent | TouchEvent) => {\n      slideButtonProps.dragging = true;\n      slideButtonProps.isClick = true;\n      const { type } = event;\n      let { clientY, clientX } = event as MouseEvent;\n      if (type === 'touchstart') {\n        const touch = (event as TouchEvent).touches;\n        [clientY, clientX] = [touch[0].clientY, touch[0].clientX];\n      }\n      if (props.vertical) {\n        slideButtonProps.startY = clientY;\n      } else {\n        slideButtonProps.startX = clientX;\n      }\n      slideButtonProps.startPos = parseFloat(currentPos.value);\n      slideButtonProps.newPos = slideButtonProps.startPos;\n    };\n\n    const onDragging = (e: MouseEvent | TouchEvent) => {\n      const event = e;\n      if (!slideButtonProps.dragging) {\n        return;\n      }\n      slideButtonProps.isClick = false;\n      if (parentProps?.resetSize && isFunction(parentProps?.resetSize)) {\n        parentProps.resetSize();\n      }\n      let diff = 0;\n      const parentSliderSize = parentProps.sliderSize;\n      if (props.vertical) {\n        diff = slideButtonProps.startY - (event as MouseEvent).clientY;\n      } else {\n        diff = (event as MouseEvent).clientX - slideButtonProps.startX;\n      }\n      diff = (diff / parentSliderSize) * 100;\n      slideButtonProps.newPos = slideButtonProps.startPos + diff;\n      setPosition(slideButtonProps.newPos);\n    };\n\n    const onDragEnd = () => {\n      if (slideButtonProps.dragging) {\n        setTimeout(() => {\n          slideButtonProps.dragging = false;\n          toggleTooltip(false);\n          if (!slideButtonProps.isClick) {\n            setPosition(slideButtonProps.newPos);\n          }\n        }, 0);\n        window.removeEventListener('mousemove', onDragging);\n        window.removeEventListener('touchmove', onDragging);\n        window.removeEventListener('mouseup', onDragEnd);\n        window.removeEventListener('touchend', onDragEnd);\n        window.removeEventListener('contextmenu', onDragEnd);\n      }\n    };\n\n    function onButtonDown(event: MouseEvent | TouchEvent) {\n      if (parentProps.disabled) {\n        return;\n      }\n      event.preventDefault();\n      onDragStart(event);\n      window.addEventListener('mousemove', onDragging);\n      window.addEventListener('mouseup', onDragEnd);\n      window.addEventListener('touchmove', onDragging);\n      window.addEventListener('touchend', onDragEnd);\n      window.addEventListener('contextmenu', onDragEnd);\n    }\n\n    const onKeyDown = (state: 'sub' | 'add') => {\n      if (parentProps.disabled) {\n        return;\n      }\n      let stepLength = (step.value / rangeDiff.value) * 100;\n      if (state === 'sub') {\n        stepLength = -stepLength;\n      }\n      slideButtonProps.newPos = parseFloat(currentPos.value) + stepLength;\n      setPosition(slideButtonProps.newPos);\n    };\n\n    const onNativeKeyDown = (e: KeyboardEvent) => {\n      const { code } = e;\n      e.preventDefault();\n      if (code === 'ArrowDown' || code === 'ArrowLeft') {\n        onKeyDown('sub');\n      }\n      if (code === 'ArrowUp' || code === 'ArrowRight') {\n        onKeyDown('add');\n      }\n    };\n    /** --------------------- slide button 相关事件end ------------------- */\n\n    /** 暴露设置按钮坐标方法供父组件调用 */\n    ctx.expose({\n      setPosition,\n    });\n\n    return () => (\n      <div\n        ref={buttonRef}\n        class={`${COMPONENT_NAME.value}-wrapper`}\n        style={wrapperStyle.value}\n        tabindex=\"0\"\n        show-tooltip={showTooltip.value}\n        disabled={parentProps.disabled}\n        onmouseenter={handleMouseEnter}\n        onmouseleave={handleMouseLeave}\n        onmousedown={onButtonDown}\n        onTouchstart={onButtonDown}\n        onfocus={handleMouseEnter}\n        onblur={handleMouseLeave}\n        onKeydown={onNativeKeyDown}\n      >\n        {showTooltip.value ? (\n          <TTooltip ref={tooltipRef} disabled={!showTooltip.value} {...tooltipProps.value}>\n            <div class={[COMPONENT_NAME.value, { [`${COMPONENT_NAME.value}--dragging`]: slideButtonProps.dragging }]} />\n          </TTooltip>\n        ) : (\n          <div\n            class={[COMPONENT_NAME.value, { [`${COMPONENT_NAME.value}--dragging`]: slideButtonProps.dragging }]}\n          ></div>\n        )}\n      </div>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","value","type","Number","vertical","Boolean","tooltipProps","Object","label","String","Function","emits","setup","ctx","COMPONENT_NAME","usePrefixClass","tooltipConfig","computed","_useSliderTooltip","useSliderTooltip","tooltipRef","toggleTooltip","showTooltip","parentProps","inject","sliderPropsInjectKey","buttonRef","ref","slideButtonProps","reactive","dragging","isClick","startX","startY","startPos","newPos","rangeDiff","max","min","currentPos","concat","step","wrapperStyle","bottom","left","watchEffect","toggleDragging","setPosition","pos","isNaN","perStepLen","steps","Math","round","parseFloat","toFixed","precision","emit","nextTick","_tooltipRef$value$upd","_tooltipRef$value","updatePopper","call","handleMouseEnter","focus","handleMouseLeave","onDragStart","event","clientY","clientX","touch","touches","_ref","onDragging","e","resetSize","isFunction","diff","parentSliderSize","sliderSize","onDragEnd","setTimeout","window","removeEventListener","onButtonDown","disabled","preventDefault","addEventListener","onKeyDown","state","stepLength","onNativeKeyDown","code","expose","_createVNode","TTooltip","_mergeProps","_default","_defineProperty"],"mappings":"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"}