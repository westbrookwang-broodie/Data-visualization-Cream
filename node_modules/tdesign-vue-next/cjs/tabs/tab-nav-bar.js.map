{"version":3,"file":"tab-nav-bar.js","sources":["../../src/tabs/tab-nav-bar.tsx"],"sourcesContent":["import { defineComponent, PropType, computed, VNode, nextTick, ref, watch, onMounted } from 'vue';\nimport { firstUpperCase } from '../utils/helper';\nimport tabProps from './props';\n\n// hooks\nimport { usePrefixClass } from '../hooks/useConfig';\n\nexport default defineComponent({\n  props: {\n    navs: {\n      type: Array as PropType<VNode[]>,\n    },\n    placement: tabProps.placement,\n    value: tabProps.value,\n  },\n  setup(props) {\n    const COMPONENT_NAME = usePrefixClass('tabs');\n    const classPrefix = usePrefixClass();\n    const navBarClass = computed(() => {\n      return [`${COMPONENT_NAME.value}__bar`, `${classPrefix.value}-is-${props.placement}`];\n    });\n    const navBarStyle = ref(null);\n    const getStyle = () => {\n      const isVertical = ['left', 'right'].includes(props.placement.toLowerCase());\n      const [sizePropName, offsetPropName] = isVertical ? ['height', 'top'] : ['width', 'left'];\n      let offset = 0;\n      let i = 0;\n      for (; i < props.navs.length; i++) {\n        if (props.navs[i].props.value === props.value) {\n          break;\n        }\n        offset += props.navs[i]?.el?.[`client${firstUpperCase(sizePropName)}`] || 0;\n      }\n      if (!props.navs[i]) return {};\n      return {\n        [offsetPropName]: `${offset}px`,\n        [sizePropName]: `${props.navs[i].el?.[`client${firstUpperCase(sizePropName)}`] || 0}px`,\n      };\n    };\n\n    onMounted(() => {\n      nextTick(() => {\n        navBarStyle.value = getStyle();\n      });\n    });\n\n    watch([() => props.navs, () => props.value, () => props.placement], () => {\n      nextTick(() => {\n        navBarStyle.value = getStyle();\n      });\n    });\n\n    return () => {\n      return <div class={navBarClass.value} style={navBarStyle.value}></div>;\n    };\n  },\n});\n"],"names":["defineComponent","props","navs","type","Array","placement","tabProps","value","setup","COMPONENT_NAME","usePrefixClass","classPrefix","navBarClass","computed","concat","navBarStyle","ref","getStyle","_props$navs$i$el2","_ref3","isVertical","includes","toLowerCase","_ref","_ref2","_slicedToArray","sizePropName","offsetPropName","offset","i","length","_props$navs$i","_props$navs$i$el","el","firstUpperCase","_defineProperty","onMounted","nextTick","watch","_createVNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,iBAAeA,mBAAgB,CAAA;AAC7BC,EAAAA,KAAO,EAAA;AACLC,IAAAA,IAAM,EAAA;AACJC,MAAAA,IAAM,EAAAC,KAAAA;KACR;IACAC,WAAWC,qBAAS,CAAAD,SAAA;IACpBE,OAAOD,qBAAS,CAAAC,KAAAA;GAClB;EACAC,qBAAMP,CAAAA,KAAO,EAAA;AACL,IAAA,IAAAQ,cAAA,GAAiBC,+BAAe,MAAM,CAAA,CAAA;IAC5C,IAAMC,cAAcD,8BAAe,EAAA,CAAA;AAC7B,IAAA,IAAAE,WAAA,GAAcC,aAAS,YAAM;AAC1B,MAAA,OAAA,IAAAC,MAAA,CAAIL,cAAe,CAAAF,KAAA,eAAAO,MAAA,CAAiBH,WAAY,CAAAJ,KAAA,EAAAO,MAAAA,CAAAA,CAAAA,MAAA,CAAYb,MAAMI,SAAW,CAAA,CAAA,CAAA;AACtF,KAAC,CAAA,CAAA;AACK,IAAA,IAAAU,WAAA,GAAcC,QAAI,IAAI,CAAA,CAAA;AAC5B,IAAA,IAAMC,WAAW,SAAXA,WAAiB;MAAA,IAAAC,iBAAA,EAAAC,KAAA,CAAA;AACf,MAAA,IAAAC,UAAA,GAAa,CAAC,MAAQ,EAAA,OAAO,EAAEC,QAAS,CAAApB,KAAA,CAAMI,SAAU,CAAAiB,WAAA,EAAa,CAAA,CAAA;AACrE,MAAA,IAAAC,IAAA,GAAiCH,UAAA,GAAa,CAAC,QAAA,EAAU,KAAK,CAAA,GAAI,CAAC,OAAA,EAAS,MAAM,CAAA;QAAAI,KAAA,GAAAC,kCAAA,CAAAF,IAAA,EAAA,CAAA,CAAA;AAAjFG,QAAAA,YAAc,GAAAF,KAAA,CAAA,CAAA,CAAA;AAAAG,QAAAA,cAAc,GAAAH,KAAA,CAAA,CAAA,CAAA,CAAA;MACnC,IAAII,MAAS,GAAA,CAAA,CAAA;MACb,IAAIC,CAAI,GAAA,CAAA,CAAA;MACR,OAAOA,CAAI,GAAA5B,KAAA,CAAMC,IAAK,CAAA4B,MAAA,EAAQD,CAAK,EAAA,EAAA;QAAA,IAAAE,aAAA,EAAAC,gBAAA,CAAA;AACjC,QAAA,IAAI/B,MAAMC,IAAK,CAAA2B,CAAA,CAAA,CAAG5B,KAAM,CAAAM,KAAA,KAAUN,MAAMM,KAAO,EAAA;AAC7C,UAAA,MAAA;AACF,SAAA;AACAqB,QAAAA,MAAA,IAAU,CAAA,CAAAG,aAAA,GAAA9B,MAAMC,IAAK,CAAA2B,CAAA,CAAA,MAAAE,IAAAA,IAAAA,aAAA,wBAAAC,gBAAA,GAAXD,aAAA,CAAeE,uDAAfD,gBAAA,CAAAlB,QAAAA,CAAAA,MAAA,CAA6BoB,2BAAA,CAAeR,YAAY,CAAQ,CAAA,CAAA,KAAA,CAAA,CAAA;AAC5E,OAAA;MACI,IAAA,CAACzB,MAAMC,IAAK,CAAA2B,CAAA,CAAA,EAAI,OAAO,EAAC,CAAA;MACrB,OAAAV,KAAA,OAAAgB,mCAAA,CAAAhB,KAAA,EACJQ,0BAAoBC,MAAA,EAAAO,IAAAA,CAAAA,CAAAA,EAAAA,mCAAA,CAAAhB,KAAA,EACpBO,YAAe,EAAAZ,EAAAA,CAAAA,MAAA,CAAG,CAAA,CAAAI,iBAAA,GAAAjB,KAAM,CAAAC,IAAA,CAAK2B,GAAGI,EAAK,MAAA,IAAA,IAAAf,iBAAA,KAAnBA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,iBAAA,UAAAJ,MAAA,CAA4BoB,2BAAe,CAAAR,YAAY,CAAQ,CAAA,CAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,EAAAP,KAAA,CAAA;KAEtF,CAAA;AAEAiB,IAAAA,aAAA,CAAU,YAAM;AACdC,MAAAA,YAAA,CAAS,YAAM;AACbtB,QAAAA,WAAA,CAAYR,QAAQU,QAAS,EAAA,CAAA;AAC/B,OAAC,CAAA,CAAA;AACH,KAAC,CAAA,CAAA;AAEKqB,IAAAA,SAAA,CAAA,CAAC,YAAA;MAAA,OAAMrC,KAAA,CAAMC,IAAM,CAAA;KAAA,EAAA,YAAA;MAAA,OAAMD,KAAM,CAAAM,KAAA,CAAA;KAAO,EAAA,YAAA;MAAA,OAAMN,KAAA,CAAMI,SAAS,CAAA;AAAA,KAAA,CAAA,EAAG,YAAM;AACxEgC,MAAAA,YAAA,CAAS,YAAM;AACbtB,QAAAA,WAAA,CAAYR,QAAQU,QAAS,EAAA,CAAA;AAC/B,OAAC,CAAA,CAAA;AACH,KAAC,CAAA,CAAA;AAED,IAAA,OAAO,YAAM;AACX,MAAA,OAAAsB,eAAA,CAAA,KAAA,EAAA;QAAA,OAAmB3B,EAAAA,YAAYL,KAAO;AAAA,QAAA,OAAA,EAAOQ,YAAYR,KAAAA;AAAO,OAAA,EAAA,IAAA,CAAA,CAAA;KAClE,CAAA;AACF,GAAA;AACF,CAAC,CAAA;;;;"}