{"version":3,"file":"useInputEventHandler.js","sources":["../../src/input/useInputEventHandler.ts"],"sourcesContent":["import { Ref } from 'vue';\nimport { TdInputProps } from './type';\n\nexport default function useInputEventHandler(props: TdInputProps, isHover: Ref<Boolean>) {\n  const handleKeydown = (e: KeyboardEvent) => {\n    if (props.disabled) return;\n    const { code } = e;\n    if (/enter/i.test(code) || /enter/i.test(e.key)) {\n      e.stopPropagation();\n      props.onEnter?.((e.currentTarget as HTMLInputElement).value, { e });\n    } else {\n      props.onKeydown?.((e.currentTarget as HTMLInputElement).value, { e });\n    }\n  };\n\n  const handleKeyUp = (e: KeyboardEvent) => {\n    if (props.disabled) return;\n    props.onKeyup?.((e.currentTarget as HTMLInputElement).value, { e });\n  };\n\n  const handleKeypress = (e: KeyboardEvent) => {\n    if (props.disabled) return;\n    props.onKeypress?.((e.currentTarget as HTMLInputElement).value, { e });\n  };\n\n  const onHandlePaste = (e: ClipboardEvent) => {\n    if (props.disabled) return;\n    // @ts-ignore\n    const clipData = e.clipboardData || window.clipboardData;\n    props.onPaste?.({ e, pasteValue: clipData?.getData('text/plain') });\n  };\n\n  const mouseEvent = (v: boolean) => (isHover.value = v);\n\n  const onHandleMousewheel = (e: WheelEvent) => props.onWheel?.({ e });\n\n  const onInputMouseenter = (e: MouseEvent) => {\n    mouseEvent(true);\n    props.onMouseenter?.({ e });\n  };\n\n  const onInputMouseleave = (e: MouseEvent) => {\n    mouseEvent(false);\n    props.onMouseleave?.({ e });\n  };\n\n  return {\n    handleKeydown,\n    handleKeyUp,\n    handleKeypress,\n    onHandlePaste,\n    onHandleMousewheel,\n    onInputMouseenter,\n    onInputMouseleave,\n  };\n}\n"],"names":["useInputEventHandler","props","isHover","handleKeydown","e","disabled","code","test","key","_props$onEnter","stopPropagation","onEnter","call","currentTarget","value","_props$onKeydown","onKeydown","handleKeyUp","_props$onKeyup","onKeyup","handleKeypress","_props$onKeypress","onKeypress","onHandlePaste","_props$onPaste","clipData","clipboardData","window","onPaste","pasteValue","getData","mouseEvent","v","onHandleMousewheel","_props$onWheel","onWheel","onInputMouseenter","_props$onMouseenter","onMouseenter","onInputMouseleave","_props$onMouseleave","onMouseleave"],"mappings":"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"}