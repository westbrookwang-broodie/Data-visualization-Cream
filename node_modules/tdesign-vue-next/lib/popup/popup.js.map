{"version":3,"file":"popup.js","sources":["../../src/popup/popup.tsx"],"sourcesContent":["import { createPopper, Placement } from '@popperjs/core';\nimport isFunction from 'lodash/isFunction';\nimport isObject from 'lodash/isObject';\nimport isString from 'lodash/isString';\nimport {\n  computed,\n  defineComponent,\n  inject,\n  InjectionKey,\n  nextTick,\n  onUnmounted,\n  provide,\n  ref,\n  Ref,\n  toRefs,\n  Transition,\n  watch,\n} from 'vue';\nimport { useContent, useTNodeJSX } from '../hooks';\nimport { useCommonClassName, usePrefixClass } from '../hooks/useConfig';\nimport useVModel from '../hooks/useVModel';\nimport { off, on, once } from '../utils/dom';\nimport setStyle from '../_common/js/utils/set-style';\nimport Container from './container';\nimport props from './props';\nimport { TdPopupProps } from './type';\n\nconst POPUP_ATTR_NAME = 'data-td-popup';\nconst POPUP_PARENT_ATTR_NAME = 'data-td-popup-parent';\n\n/**\n * @param id\n * @param upwards query upwards poppers\n */\nfunction getPopperTree(id: number | string, upwards?: boolean): Element[] {\n  const list = [] as any;\n  const selectors = [POPUP_PARENT_ATTR_NAME, POPUP_ATTR_NAME];\n\n  if (!id) return list;\n  if (upwards) {\n    selectors.unshift(selectors.pop());\n  }\n\n  recurse(id);\n\n  return list;\n\n  function recurse(id: number | string) {\n    const children = document.querySelectorAll(`[${selectors[0]}=\"${id}\"]`);\n    children.forEach((el) => {\n      list.push(el);\n      const childId = el.getAttribute(selectors[1]);\n      if (childId && childId !== id) {\n        recurse(childId);\n      }\n    });\n  }\n}\n\nconst parentKey = Symbol() as InjectionKey<{\n  id: string;\n  assertMouseLeave: (ev: MouseEvent) => void;\n}>;\n\nfunction getPopperPlacement(placement: TdPopupProps['placement']): Placement {\n  return placement.replace(/-(left|top)$/, '-start').replace(/-(right|bottom)$/, '-end') as Placement;\n}\n\nfunction attachListeners(elm: Ref<Element>) {\n  const offs: Array<() => void> = [];\n  return {\n    add<K extends keyof HTMLElementEventMap>(type: K, listener: (ev: HTMLElementEventMap[K]) => void) {\n      if (!type) return;\n      on(elm.value, type, listener);\n      offs.push(() => {\n        off(elm.value, type, listener);\n      });\n    },\n    clean() {\n      offs.forEach((handler) => handler?.());\n      offs.length = 0;\n    },\n  };\n}\n\nexport default defineComponent({\n  name: 'TPopup',\n\n  props: {\n    ...props,\n    expandAnimation: {\n      type: Boolean,\n    },\n  },\n  setup(props, { expose }) {\n    const { visible: propVisible, modelValue } = toRefs(props);\n    const [visible, setVisible] = useVModel(\n      propVisible,\n      modelValue,\n      props.defaultVisible,\n      props.onVisibleChange,\n      'visible',\n    );\n    const renderTNodeJSX = useTNodeJSX();\n    const renderContent = useContent();\n\n    /** popperjs instance */\n    let popper: ReturnType<typeof createPopper>;\n    /** timeout id */\n    let showTimeout: any;\n    let hideTimeout: any;\n\n    const triggerEl = ref<HTMLElement>(null);\n    const overlayEl = ref<HTMLElement>(null);\n    const popperEl = ref<HTMLElement>(null);\n    const containerRef = ref<typeof Container>(null);\n\n    const id = typeof process !== 'undefined' && process.env?.TEST ? '' : Date.now().toString(36);\n    const parent = inject(parentKey, undefined);\n\n    provide(parentKey, {\n      id,\n      assertMouseLeave: onMouseLeave,\n    });\n\n    const prefixCls = usePrefixClass('popup');\n    const { STATUS: commonCls } = useCommonClassName();\n    const delay = computed(() => {\n      const delay = props.trigger !== 'hover' ? [0, 0] : [].concat(props.delay ?? [250, 150]);\n      return {\n        show: delay[0],\n        hide: delay[1] ?? delay[0],\n      };\n    });\n\n    const trigger = attachListeners(triggerEl);\n\n    watch(\n      () => [props.trigger, triggerEl.value],\n      () => {\n        if (!triggerEl.value) return;\n        trigger.clean();\n\n        trigger.add(\n          (\n            {\n              hover: 'mouseenter',\n              focus: 'focusin',\n              'context-menu': 'contextmenu',\n              click: 'click',\n            } as any\n          )[props.trigger],\n          (ev: MouseEvent) => {\n            if (props.disabled) return;\n\n            if (ev.type === 'contextmenu') {\n              ev.preventDefault();\n            }\n\n            if ((ev.type === 'click' || ev.type === 'contextmenu') && visible.value) {\n              hide(ev);\n              return;\n            }\n\n            show(ev);\n          },\n        );\n\n        trigger.add(\n          (\n            {\n              hover: 'mouseleave',\n              focus: 'focusout',\n            } as any\n          )[props.trigger],\n          hide,\n        );\n      },\n    );\n\n    watch(\n      () => [props.overlayStyle, props.overlayInnerStyle, overlayEl.value],\n      () => {\n        updateOverlayInnerStyle();\n        updatePopper();\n      },\n    );\n\n    watch(\n      () => props.placement,\n      () => {\n        destroyPopper();\n        updatePopper();\n      },\n    );\n\n    watch(\n      () => visible.value,\n      (visible) => {\n        if (visible) {\n          on(document, 'mousedown', onDocumentMouseDown, true);\n          if (props.trigger === 'focus') {\n            once(triggerEl.value, 'keydown', (ev: KeyboardEvent) => {\n              const code = typeof process !== 'undefined' && process.env?.TEST ? '27' : 'Escape';\n              if (ev.code === code) {\n                hide(ev);\n              }\n            });\n          }\n          return;\n        }\n        off(document, 'mousedown', onDocumentMouseDown, true);\n      },\n    );\n\n    onUnmounted(() => {\n      destroyPopper();\n      clearAllTimeout();\n      off(document, 'mousedown', onDocumentMouseDown, true);\n    });\n\n    expose({\n      update: updatePopper,\n      close: hide,\n      getOverlay() {\n        return overlayEl.value;\n      },\n    });\n\n    function getOverlayStyle() {\n      const { overlayStyle } = props;\n\n      if (!triggerEl.value || !overlayEl.value) return;\n      if (isFunction(overlayStyle)) {\n        return overlayStyle(triggerEl.value, overlayEl.value);\n      }\n      if (isObject(overlayStyle)) {\n        return overlayStyle;\n      }\n    }\n\n    function updateOverlayInnerStyle() {\n      const { overlayInnerStyle } = props;\n\n      if (!triggerEl.value || !overlayEl.value) return;\n      if (isFunction(overlayInnerStyle)) {\n        setStyle(overlayEl.value, overlayInnerStyle(triggerEl.value, overlayEl.value));\n      } else if (isObject(overlayInnerStyle)) {\n        setStyle(overlayEl.value, overlayInnerStyle);\n      }\n    }\n\n    function updatePopper() {\n      if (!popperEl.value || !visible.value) return;\n      if (popper) {\n        const rect = triggerEl.value.getBoundingClientRect();\n        let parent = triggerEl.value;\n        while (parent && parent !== document.body) {\n          parent = parent.parentElement;\n        }\n        const isHidden = parent !== document.body || (rect.width === 0 && rect.height === 0);\n        if (!isHidden) {\n          popper.state.elements.reference = triggerEl.value;\n          popper.update();\n        } else {\n          setVisible(false, { trigger: getTriggerType({ type: 'mouseenter' } as Event) });\n        }\n        return;\n      }\n\n      popper = createPopper(triggerEl.value, popperEl.value, {\n        placement: getPopperPlacement(props.placement),\n        onFirstUpdate: () => {\n          nextTick(updatePopper);\n        },\n        ...props.popperOptions,\n      });\n    }\n\n    function destroyPopper() {\n      if (popper) {\n        popper?.destroy();\n        popper = null;\n      }\n      if (props.destroyOnClose) {\n        containerRef.value?.unmountContent();\n      }\n    }\n\n    function show(ev: Event) {\n      clearAllTimeout();\n      showTimeout = setTimeout(() => {\n        setVisible(true, { trigger: getTriggerType(ev) });\n      }, delay.value.show);\n    }\n\n    function hide(ev: Event) {\n      clearAllTimeout();\n      hideTimeout = setTimeout(() => {\n        setVisible(false, { trigger: getTriggerType(ev) });\n      }, delay.value.hide);\n    }\n\n    function clearAllTimeout() {\n      clearTimeout(showTimeout);\n      clearTimeout(hideTimeout);\n    }\n\n    function getTriggerType(ev: Event) {\n      switch (ev.type) {\n        case 'mouseenter':\n        case 'mouseleave':\n          return 'trigger-element-hover';\n        case 'focusin':\n          return 'trigger-element-focus';\n        case 'focusout':\n          return 'trigger-element-blur';\n        case 'click':\n          return 'trigger-element-click';\n        case 'context-menu':\n        case 'keydown':\n          return 'keydown-esc';\n        case 'mousedown':\n          return 'document';\n      }\n    }\n\n    function onDocumentMouseDown(ev: MouseEvent) {\n      // click content\n      if (popperEl.value.contains(ev.target as Node)) {\n        return;\n      }\n\n      // click trigger element\n      if (triggerEl.value.contains(ev.target as Node)) {\n        return;\n      }\n\n      // ignore upwards\n      const activedPopper = getPopperTree(id).find((el) => el.contains(ev.target as Node));\n      if (\n        activedPopper &&\n        getPopperTree(activedPopper.getAttribute(POPUP_PARENT_ATTR_NAME), true).some((el) => el === popperEl.value)\n      ) {\n        return;\n      }\n\n      hide(ev);\n    }\n\n    function onMouseLeave(ev: MouseEvent) {\n      if (props.trigger !== 'hover' || triggerEl.value.contains(ev.target as Node)) return;\n\n      const isCursorOverlaps = getPopperTree(id).some((el) => {\n        const rect = el.getBoundingClientRect();\n\n        return ev.x > rect.x && ev.x < rect.x + rect.width && ev.y > rect.y && ev.y < rect.y + rect.height;\n      });\n      if (!isCursorOverlaps) {\n        hide(ev);\n        parent?.assertMouseLeave(ev);\n      }\n    }\n\n    const updateScrollTop = inject('updateScrollTop', undefined);\n    function handleOnScroll(e: WheelEvent) {\n      const { scrollTop, clientHeight, scrollHeight } = e.target as HTMLDivElement;\n      if (scrollHeight - scrollTop === clientHeight) {\n        // touch bottom\n        props.onScrollToBottom?.({ e });\n      }\n      props.onScroll?.({ e });\n    }\n    watch(\n      () => [visible.value, overlayEl.value],\n      () => {\n        if (visible.value && overlayEl.value && updateScrollTop) {\n          updateScrollTop?.(overlayEl.value);\n        }\n      },\n    );\n\n    return () => {\n      const content = renderTNodeJSX('content');\n      const hidePopup = props.hideEmptyPopup && ['', undefined, null].includes(content);\n\n      const overlay =\n        visible.value || !props.destroyOnClose ? (\n          <div\n            {...{\n              [POPUP_ATTR_NAME]: id,\n              [POPUP_PARENT_ATTR_NAME]: parent?.id,\n            }}\n            class={[prefixCls.value, props.overlayClassName]}\n            ref={(ref: HTMLElement) => (popperEl.value = ref)}\n            style={[{ zIndex: props.zIndex }, getOverlayStyle(), hidePopup && { visibility: 'hidden' }]}\n            vShow={visible.value}\n            {...(props.trigger === 'hover' && {\n              onMouseenter: () => {\n                if (visible.value) {\n                  clearAllTimeout();\n                }\n              },\n              onMouseleave: onMouseLeave,\n            })}\n          >\n            <div\n              class={[\n                `${prefixCls.value}__content`,\n                {\n                  [`${prefixCls.value}__content--text`]: isString(props.content),\n                  [`${prefixCls.value}__content--arrow`]: props.showArrow,\n                  [commonCls.value.disabled]: props.disabled,\n                },\n                props.overlayInnerClassName,\n              ]}\n              ref={(ref: HTMLElement) => (overlayEl.value = ref)}\n              onScroll={handleOnScroll}\n            >\n              {content}\n              {props.showArrow && <div class={`${prefixCls.value}__arrow`} />}\n            </div>\n          </div>\n        ) : null;\n\n      return (\n        <Container\n          ref={(ref: any) => (containerRef.value = ref)}\n          forwardRef={(ref) => (triggerEl.value = ref)}\n          onContentMounted={() => {\n            if (visible.value) {\n              updatePopper();\n              updateOverlayInnerStyle();\n            }\n          }}\n          onResize={() => {\n            if (visible.value) {\n              updatePopper();\n            }\n          }}\n          visible={visible.value}\n          attach={props.attach}\n        >\n          {{\n            content: () => (\n              <Transition\n                name={`${prefixCls.value}--animation${props.expandAnimation ? '-expand' : ''}`}\n                appear\n                onEnter={updatePopper}\n                onAfterLeave={destroyPopper}\n              >\n                {overlay}\n              </Transition>\n            ),\n            default: () => renderContent('default', 'triggerElement'),\n          }}\n        </Container>\n      );\n    };\n  },\n});\n"],"names":["_isSlot","s","Object","prototype","toString","call","_isVNode","POPUP_ATTR_NAME","POPUP_PARENT_ATTR_NAME","getPopperTree","id","upwards","list","selectors","unshift","pop","recurse","children","document","querySelectorAll","concat","forEach","el","push","childId","getAttribute","parentKey","Symbol","getPopperPlacement","placement","replace","attachListeners","elm","offs","add","type","listener","on","value","off","clean","handler","length","defineComponent","name","props","_objectSpread","expandAnimation","Boolean","setup","_process$env","expose","_ref","_toRefs","toRefs","propVisible","visible","modelValue","_useVModel","useVModel","defaultVisible","onVisibleChange","_useVModel2","_slicedToArray","setVisible","renderTNodeJSX","useTNodeJSX","renderContent","useContent","popper","showTimeout","hideTimeout","triggerEl","ref","overlayEl","popperEl","containerRef","process","env","TEST","Date","now","parent","inject","provide","assertMouseLeave","onMouseLeave","prefixCls","usePrefixClass","_useCommonClassName","useCommonClassName","commonCls","STATUS","delay","computed","_props2$delay","_delay2$","trigger","show","hide","watch","hover","focus","click","ev","disabled","preventDefault","overlayStyle","overlayInnerStyle","updateOverlayInnerStyle","updatePopper","destroyPopper","onDocumentMouseDown","once","_process$env2","code","onUnmounted","clearAllTimeout","update","close","getOverlay","getOverlayStyle","isFunction","isObject","setStyle","rect","getBoundingClientRect","body","parentElement","isHidden","width","height","state","elements","reference","getTriggerType","createPopper","onFirstUpdate","nextTick","popperOptions","_popper","destroy","destroyOnClose","_containerRef$value","unmountContent","setTimeout","clearTimeout","contains","target","activedPopper","find","some","isCursorOverlaps","x","y","updateScrollTop","handleOnScroll","e","_props2$onScroll","_e$target","scrollTop","clientHeight","scrollHeight","_props2$onScrollToBot","onScrollToBottom","onScroll","_ref2","_ref3","content","hidePopup","hideEmptyPopup","includes","overlay","_withDirectives","_createVNode","_mergeProps","_defineProperty","overlayClassName","zIndex","visibility","onMouseenter","onMouseleave","isString","showArrow","overlayInnerClassName","_vShow","Container","forwardRef","onContentMounted","onResize","attach","Transition","_default"],"mappings":"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"}