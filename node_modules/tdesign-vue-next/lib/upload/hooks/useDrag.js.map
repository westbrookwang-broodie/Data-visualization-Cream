{"version":3,"file":"useDrag.js","sources":["../../../src/upload/hooks/useDrag.ts"],"sourcesContent":["import { ref } from 'vue';\nimport { TdUploadProps } from '../type';\n\nexport interface UploadDragEvents {\n  onDragFileChange?: (e: DragEvent) => void;\n  onDragenter?: TdUploadProps['onDragenter'];\n  onDragleave?: TdUploadProps['onDragleave'];\n  onDrop?: TdUploadProps['onDrop'];\n}\n\nexport default function useDrag(props: UploadDragEvents) {\n  const target = ref(null);\n  const dragActive = ref(false);\n\n  const handleDrop = (event: DragEvent) => {\n    event.preventDefault();\n    props.onDragFileChange?.(event);\n    props.onDrop?.({ e: event });\n    dragActive.value = false;\n  };\n\n  const handleDragenter = (event: DragEvent) => {\n    event.preventDefault();\n    target.value = event.target;\n    props.onDragenter?.({ e: event });\n    dragActive.value = true;\n  };\n\n  const handleDragleave = (event: DragEvent) => {\n    if (event.target !== target.value) return;\n    event.preventDefault();\n    props.onDragleave?.({ e: event });\n    dragActive.value = false;\n  };\n\n  const handleDragover = (event: DragEvent) => {\n    event.preventDefault();\n  };\n\n  return {\n    target,\n    dragActive,\n    handleDrop,\n    handleDragenter,\n    handleDragleave,\n    handleDragover,\n  };\n}\n"],"names":["useDrag","props","target","ref","dragActive","handleDrop","event","_props$onDragFileChan","_props$onDrop","preventDefault","onDragFileChange","call","onDrop","e","value","handleDragenter","_props$onDragenter","onDragenter","handleDragleave","_props$onDragleave","onDragleave","handleDragover"],"mappings":";;;;;;;;AAUA,SAAwBA,QAAQC,KAAyB,EAAA;AACjD,EAAA,IAAAC,MAAA,GAASC,IAAI,IAAI,CAAA,CAAA;AACjB,EAAA,IAAAC,UAAA,GAAaD,IAAI,KAAK,CAAA,CAAA;AAEtB,EAAA,IAAAE,UAAA,GAAa,SAAbA,UAAAA,CAAcC,KAAqB,EAAA;IAAA,IAAAC,qBAAA,EAAAC,aAAA,CAAA;IACvCF,KAAA,CAAMG,cAAe,EAAA,CAAA;AACrB,IAAA,CAAAF,qBAAA,GAAAN,KAAA,CAAMS,wDAANH,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,qBAAA,CAAAI,IAAA,CAAAV,KAAA,EAAyBK,KAAK,CAAA,CAAA;AAC9B,IAAA,CAAAE,aAAA,GAAAP,KAAA,CAAMW,MAAS,MAAA,IAAA,IAAAJ,aAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAfA,aAAA,CAAAG,IAAA,CAAAV,KAAA,EAAe;AAAEY,MAAAA,CAAG,EAAAP,KAAAA;AAAM,KAAC,CAAA,CAAA;IAC3BF,UAAA,CAAWU,KAAQ,GAAA,KAAA,CAAA;GACrB,CAAA;AAEM,EAAA,IAAAC,eAAA,GAAkB,SAAlBA,eAAAA,CAAmBT,KAAqB,EAAA;AAAA,IAAA,IAAAU,kBAAA,CAAA;IAC5CV,KAAA,CAAMG,cAAe,EAAA,CAAA;AACrBP,IAAAA,MAAA,CAAOY,QAAQR,KAAM,CAAAJ,MAAA,CAAA;AACrB,IAAA,CAAAc,kBAAA,GAAAf,KAAA,CAAMgB,WAAc,MAAA,IAAA,IAAAD,kBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAApBA,kBAAA,CAAAL,IAAA,CAAAV,KAAA,EAAoB;AAAEY,MAAAA,CAAG,EAAAP,KAAAA;AAAM,KAAC,CAAA,CAAA;IAChCF,UAAA,CAAWU,KAAQ,GAAA,IAAA,CAAA;GACrB,CAAA;AAEM,EAAA,IAAAI,eAAA,GAAkB,SAAlBA,eAAAA,CAAmBZ,KAAqB,EAAA;AAAA,IAAA,IAAAa,kBAAA,CAAA;AACxC,IAAA,IAAAb,KAAA,CAAMJ,WAAWA,MAAO,CAAAY,KAAA,EAAO,OAAA;IACnCR,KAAA,CAAMG,cAAe,EAAA,CAAA;AACrB,IAAA,CAAAU,kBAAA,GAAAlB,KAAA,CAAMmB,WAAc,MAAA,IAAA,IAAAD,kBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAApBA,kBAAA,CAAAR,IAAA,CAAAV,KAAA,EAAoB;AAAEY,MAAAA,CAAG,EAAAP,KAAAA;AAAM,KAAC,CAAA,CAAA;IAChCF,UAAA,CAAWU,KAAQ,GAAA,KAAA,CAAA;GACrB,CAAA;AAEM,EAAA,IAAAO,cAAA,GAAiB,SAAjBA,cAAAA,CAAkBf,KAAqB,EAAA;IAC3CA,KAAA,CAAMG,cAAe,EAAA,CAAA;GACvB,CAAA;EAEO,OAAA;AACLP,IAAAA,MAAA,EAAAA,MAAA;AACAE,IAAAA,UAAA,EAAAA,UAAA;AACAC,IAAAA,UAAA,EAAAA,UAAA;AACAU,IAAAA,eAAA,EAAAA,eAAA;AACAG,IAAAA,eAAA,EAAAA,eAAA;AACAG,IAAAA,cAAA,EAAAA,cAAAA;GACF,CAAA;AACF;;;;"}