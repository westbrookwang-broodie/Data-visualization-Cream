{"version":3,"file":"button.js","sources":["../../src/button/button.tsx"],"sourcesContent":["import { computed, defineComponent, h, ref } from 'vue';\nimport TLoading from '../loading';\nimport props from './props';\nimport useRipple from '../hooks/useRipple';\nimport { useFormDisabled } from '../form/hooks';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { useTNodeJSX, useContent } from '../hooks/tnode';\n\nexport default defineComponent({\n  name: 'TButton',\n  props,\n  setup(props, { attrs, slots }) {\n    const renderTNodeJSX = useTNodeJSX();\n    const renderContent = useContent();\n    const COMPONENT_NAME = usePrefixClass('button');\n    const { STATUS, SIZE } = useCommonClassName();\n    const disabled = useFormDisabled();\n    const btnRef = ref<HTMLElement>();\n\n    useRipple(btnRef);\n\n    const isDisabled = computed(() => props.disabled || props.loading || disabled.value);\n    const mergeTheme = computed(() => {\n      const { theme, variant } = props;\n      if (theme) return theme;\n      if (variant === 'base') return 'primary';\n      return 'default';\n    });\n    const buttonClass = computed(() => [\n      `${COMPONENT_NAME.value}`,\n      `${COMPONENT_NAME.value}--variant-${props.variant}`,\n      `${COMPONENT_NAME.value}--theme-${mergeTheme.value}`,\n      {\n        [SIZE.value[props.size]]: props.size !== 'medium',\n        [STATUS.value.disabled]: props.disabled || disabled.value,\n        [STATUS.value.loading]: props.loading,\n        [`${COMPONENT_NAME.value}--shape-${props.shape}`]: props.shape !== 'rectangle',\n        [`${COMPONENT_NAME.value}--ghost`]: props.ghost,\n        [SIZE.value.block]: props.block,\n      },\n    ]);\n\n    return () => {\n      let buttonContent = renderContent('default', 'content');\n      const icon = props.loading ? <TLoading inheritColor={true} /> : renderTNodeJSX('icon');\n      const iconOnly = icon && !buttonContent;\n      const suffix =\n        props.suffix || slots.suffix ? (\n          <span className={`${COMPONENT_NAME.value}__suffix`}>{renderTNodeJSX('suffix')}</span>\n        ) : null;\n\n      buttonContent = buttonContent ? <span class={`${COMPONENT_NAME.value}__text`}>{buttonContent}</span> : '';\n      if (icon) {\n        buttonContent = [icon, buttonContent];\n      }\n      if (suffix) {\n        buttonContent = [buttonContent].concat(suffix);\n      }\n\n      const renderTag = () => {\n        if (!props.tag && props.href) return 'a';\n        return props.tag || 'button';\n      };\n\n      const buttonAttrs = {\n        class: [...buttonClass.value, { [`${COMPONENT_NAME.value}--icon-only`]: iconOnly }],\n        type: props.type,\n        disabled: isDisabled.value,\n        href: props.href,\n      };\n\n      return h(\n        renderTag(),\n        {\n          ref: btnRef,\n          ...attrs,\n          ...buttonAttrs,\n          onClick: props.onClick,\n        },\n        [buttonContent],\n      );\n    };\n  },\n});\n"],"names":["defineComponent","name","props","setup","attrs","_ref","slots","renderTNodeJSX","useTNodeJSX","renderContent","useContent","COMPONENT_NAME","usePrefixClass","_useCommonClassName","useCommonClassName","STATUS","SIZE","disabled","useFormDisabled","btnRef","ref","useRipple","isDisabled","computed","loading","value","mergeTheme","theme","variant","buttonClass","_ref2","concat","_defineProperty","size","shape","ghost","block","buttonContent","icon","_createVNode","TLoading","iconOnly","suffix","renderTag","tag","href","buttonAttrs","_toConsumableArray","type","h","_objectSpread","onClick"],"mappings":"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"}